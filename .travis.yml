dist: xenial

language: python
python:
  - '3.7'

services:
  - docker

install: true

script:
  - ./scripts/travis_tests.sh $TEST_MODE

after_script:
  - ./scripts/travis_tests_teardown.sh

after_failure:
  - ./scripts/travis_tests_failure.sh

matrix:
  fast_finish: true
  include:
    - name: "Set up"
      env: 'TEST_MODE=setup'

    # - name: "CKAN + assets"
    #   env: 'TEST_MODE=ckan'

    # - name: "Integration tests"
    #   env: 'TEST_MODE=integration'

env:
  global:
    LOCAL_HOST: aether.travis
    INITIAL_REALM: travis
