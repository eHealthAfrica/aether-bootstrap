os: linux
dist: bionic

language: shell
services:
  - docker

install: true

# build only the master branch
branches:
  only:
    - master

script:
  - ./scripts/travis/tests.sh $TEST_MODE

addons:
  hosts: travis.test.server

jobs:
  fast_finish: true
  include:
    - name: "Set up"
      env: 'TEST_MODE=setup'

    - name: "Integration tests"
      env: 'TEST_MODE=integration'
